{"pageProps":{"note":{"id":"kgvbki8is4iikr9ex4f0ire","title":"Lightweight Multi Person Total Motion Capture","desc":"","updated":1657330219638,"created":1657097338013,"custom":{},"fname":"paper-read.lightweight-multi-person-total-motion-capture","type":"note","vault":{"fsPath":"vault"},"contentHash":"e4fc8a70144368e529e6190408264f29","links":[],"anchors":{"single-image--video":{"type":"header","text":"Single image / video","value":"single-image--video","line":10,"column":0,"depth":2},"pose-regression":{"type":"header","text":"Pose regression","value":"pose-regression","line":12,"column":0,"depth":3},"key-point-detection":{"type":"header","text":"Key-point detection","value":"key-point-detection","line":19,"column":0,"depth":3},"sparse-multi-view":{"type":"header","text":"Sparse Multi-view","value":"sparse-multi-view","line":24,"column":0,"depth":2},"4d-body-association":{"type":"header","text":"4D Body Association","value":"4d-body-association","line":26,"column":0,"depth":3},"hand-and-face-bootstrapping":{"type":"header","text":"Hand and Face Bootstrapping","value":"hand-and-face-bootstrapping","line":32,"column":0,"depth":3},"two-stage-parametric-fitting":{"type":"header","text":"Two-stage Parametric Fitting","value":"two-stage-parametric-fitting","line":44,"column":0,"depth":3},"feedback":{"type":"header","text":"Feedback","value":"feedback","line":50,"column":0,"depth":3},"questions":{"type":"header","text":"Questions","value":"questions","line":54,"column":0,"depth":2},"todo":{"type":"header","text":"TODO","value":"todo","line":61,"column":0,"depth":2}},"children":[],"parent":"2vmt81onv3jf06ejwfusj30","data":{}},"body":"<h1 id=\"lightweight-multi-person-total-motion-capture\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#lightweight-multi-person-total-motion-capture\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Lightweight Multi Person Total Motion Capture</h1>\n<blockquote>\n<p><a href=\"https://openaccess.thecvf.com/content/ICCV2021/papers/Zhang_Lightweight_Multi-Person_Total_Motion_Capture_Using_Sparse_Multi-View_Cameras_ICCV_2021_paper.pdf\">https://openaccess.thecvf.com/content/ICCV2021/papers/Zhang_Lightweight_Multi-Person_Total_Motion_Capture_Using_Sparse_Multi-View_Cameras_ICCV_2021_paper.pdf</a></p>\n</blockquote>\n<h2 id=\"single-image--video\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#single-image--video\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Single image / video</h2>\n<h3 id=\"pose-regression\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#pose-regression\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Pose regression</h3>\n<blockquote>\n<p>SMPL-X &#x26; Adam</p>\n</blockquote>\n<ul>\n<li>Direct regression from image to parameters</li>\n<li>Real time but not suitable for occlusion or multi-person</li>\n<li>No geometric correspondence with 2D joints</li>\n</ul>\n<h3 id=\"key-point-detection\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#key-point-detection\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Key-point detection</h3>\n<ul>\n<li>Guarantee geometric alignment</li>\n<li>Need heavy post-processing</li>\n<li>Susceptible to self-occlusion</li>\n</ul>\n<h2 id=\"sparse-multi-view\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#sparse-multi-view\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Sparse Multi-view</h2>\n<h3 id=\"4d-body-association\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#4d-body-association\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>4D Body Association</h3>\n<p>Sparse multi-view</p>\n<ul>\n<li>2D keypoints -> triangulate 3D keypoints</li>\n<li>Tracked 3D point -> match 2D detection (Pnp?)</li>\n</ul>\n<h3 id=\"hand-and-face-bootstrapping\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#hand-and-face-bootstrapping\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Hand and Face Bootstrapping</h3>\n<ul>\n<li>body skeleton -> 3D bounding sphere with constant radius (commensurate with physical size) -> project 2D bbox -> further refinement with hand detector -> refined 2D bbox</li>\n<li>For each refined 2D bbox (associated with body wrist), apply NMS using hand association score (crossmodality consistency score and cross-scale consistency score)\n<blockquote>\n<p><strong>crossmodality consistency score</strong> (pose-regression chirality ambiguity): </p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>a</mi><mi>v</mi><mi>g</mi><mo stretchy=\"false\">(</mo><mi>max</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo>−</mo><mfrac><mrow><mi mathvariant=\"normal\">∥</mi><mtext>pose-regression position</mtext><mo>−</mo><mtext>keypoint-detection position</mtext><msubsup><mi mathvariant=\"normal\">∥</mi><mn>2</mn><mn>2</mn></msubsup></mrow><mrow><mi>d</mi><mi>i</mi><mi>a</mi><mi>g</mi><mo stretchy=\"false\">(</mo><mi>R</mi><mi>o</mi><mi>I</mi><mo stretchy=\"false\">)</mo></mrow></mfrac><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">avg(\\max(0, 1 - \\frac{\\|\\text{pose-regression position} - \\text{keypoint-detection position}\\|_2^2}{diag(RoI)}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">vg</span><span class=\"mopen\">(</span><span class=\"mop\">max</span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4271em;vertical-align:-0.936em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4911em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">ia</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">∥</span><span class=\"mord text\"><span class=\"mord\">pose-regression position</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">keypoint-detection position</span></span><span class=\"mord\"><span class=\"mord\">∥</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-2.4519em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2481em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose\">))</span></span></span></span></span></div>\n<p><strong>cross-scale consistency score</strong> (wrist misalignment):</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>a</mi><mi>v</mi><mi>g</mi><mo stretchy=\"false\">(</mo><mi>max</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn><mo>−</mo><mfrac><mrow><mi mathvariant=\"normal\">∥</mi><mtext>body skeleton wrist position</mtext><mo>−</mo><mtext>local wrist position</mtext><msubsup><mi mathvariant=\"normal\">∥</mi><mn>2</mn><mn>2</mn></msubsup></mrow><mrow><mi>d</mi><mi>i</mi><mi>a</mi><mi>g</mi><mo stretchy=\"false\">(</mo><mi>R</mi><mi>o</mi><mi>I</mi><mo stretchy=\"false\">)</mo></mrow></mfrac><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">avg(\\max(0,1 - \\frac{\\|\\text{body skeleton wrist position} - \\text{local wrist position}\\|_2^2}{diag(RoI)}))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">vg</span><span class=\"mopen\">(</span><span class=\"mop\">max</span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4271em;vertical-align:-0.936em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.4911em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">d</span><span class=\"mord mathnormal\">ia</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mclose\">)</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\">∥</span><span class=\"mord text\"><span class=\"mord\">body skeleton wrist position</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord text\"><span class=\"mord\">local wrist position</span></span><span class=\"mord\"><span class=\"mord\">∥</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-2.4519em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2481em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.936em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose\">))</span></span></span></span></span></div>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"two-stage-parametric-fitting\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#two-stage-parametric-fitting\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Two-stage Parametric Fitting</h3>\n<ul>\n<li>local intialization: \n<ul>\n<li>hand - hand association score</li>\n<li>body/head - SMPLify-X</li>\n</ul>\n</li>\n<li>total optimization: l2 body 3D position distance + 2d projected keypoints distance + gesture range regularization</li>\n</ul>\n<h3 id=\"feedback\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#feedback\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Feedback</h3>\n<ul>\n<li>limb detector</li>\n<li>re-render human model for visibility -> binary occupancy mask -> smoothed continuous occupancy mask -> occupancy probability of the person</li>\n</ul>\n<h2 id=\"questions\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#questions\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Questions</h2>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> 3D -> 2D projection (projection matrix with hnormalize? gradient backprop?)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Body ground truth 3D?</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Hand association score for different views balancing (the parameter to refine?)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Distance transformations for smoothing</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Human body parameterization</li>\n</ul>\n<h2 id=\"todo\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#todo\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>TODO</h2>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> *SMPLify-X (regularization term)</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Adam</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> 4D body association</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Mean Per Joint Position Error</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Heatmap-based detector</li>\n</ul>","noteIndex":{"id":"o3PkEany5FTDLokev2jkJ","title":"Root","desc":"","updated":1656832289330,"created":1640014633146,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"1f4a8dbd787743b10f24422968be02a9","links":[],"anchors":{"history":{"type":"header","text":"History","value":"history","line":10,"column":0,"depth":2},"disclaimer":{"type":"header","text":"Disclaimer","value":"disclaimer","line":15,"column":0,"depth":2}},"children":["Vn1Ykq4aIagi0bhZowkgD","ja5HFaIxVEtbZoTklNXfZ","vnzxfoqb6aqbrqy247uonqo","jjlv4wd30bvf0r680o9ptbi","kok8aerdrzko8v4i6w6qtjx","hr8ruqfxd2miwldyehzz5zy","criy8usqjrguecufwb3k8z2","3x9f9wclumzxc23dzgraepy","sma2hkp8hvq9urmtk94qqwq","4bcvwahaynsox941d8dimxw","8u19znq05xj50ptse0fq8nj","hbcft05imtwxxtwk52nij1n","2vmt81onv3jf06ejwfusj30","npuhs4xvm0sa31rz2gcuff3","mwt2mrjm58oa3q2osoqwd64","yjnf5fuac95jbdmjj923hyh","17p3nbv4rvga83hhsz2idzp","8r1egy8mz3lp7ud9p8kcg8z","5gf8xb68r1y0kxumkvvmuez","d92qhaqtfbt7e4eximdnbht","r25bm5nuug9krur6ddqearm"],"parent":null,"data":{},"body":"\nMy personal knowledge cache using [Dendron](https://www.dendron.so)\n\n## History\nIt was during my first job, at the start-up company called PixelShift.AI, that I acquired most prominent skill as a software engineer-the ability to read source code. It opened up a new way of learning and my knowledge expanded rapidly ever since. Learning new things is thriving but noting them down cogently and organized is hard. I often found myself forget the context few month later, making the notes completely intelligible. Additionally, some notes need frequent update as my previous understanding could be parochial, antiquated or even erroneous.\n\nIn desperate attempt to facilitate the noting/updating experience, I came across [Dendron](https://www.dendron.so) and found it surprisingly congenial to my personal need. With it, I have gradually grown the habit of caching, linking back and extending my knowledge base.\n\n## Disclaimer\nThe notes are collections of information I found along the journey. I use backquote to denote sources, but I am likely to miss some references, so apology in advance. Also, they are my personal understandings, usually added when I first encounter the topic and will be updated only when I come across it again, so some of them could be incomplete or wrong."},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"randomNote":{},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"dendronVersion":"0.86.1","enableFullHierarchyNoteTitle":false,"enableHandlebarTemplates":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"Dendron","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"assetsPrefix":"/my-personal-knowledge-cache","siteUrl":"https://ankbzpx.github.io","enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}