<h1 id="matcap"><a aria-hidden="true" class="anchor-heading" href="#matcap"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Matcap</h1>
<p>Material Capture</p>
<blockquote>
<p>Reference: <a href="https://github.com/nidorx/matcaps">https://github.com/nidorx/matcaps</a></p>
</blockquote>
<p>Complete material from image without actual compute reflection and lighting</p>
<h2 id="implementation"><a aria-hidden="true" class="anchor-heading" href="#implementation"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Implementation</h2>
<h3 id="normal-matrix"><a aria-hidden="true" class="anchor-heading" href="#normal-matrix"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Normal matrix</h3>
<p>View matrix: W -> Camera</p>
<p>See: <a href="/my-personal-knowledge-cache/notes/TkXfLmZJwXgvhwj8m5zgS">Camera MVP Matrix</a> and <a href="/my-personal-knowledge-cache/notes/fM7XsYXKb9KeZtq5BsUB6">Transform Normal Vector</a></p>
<pre><code>norm = view.inverse().transpose();
</code></pre>
<h3 id="vertex-shader"><a aria-hidden="true" class="anchor-heading" href="#vertex-shader"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Vertex shader</h3>
<pre><code>normal_eye = vec3 (normal_matrix * vec4 (normal, 0.0));
normal_eye = normalize(normal_eye);
</code></pre>
<h3 id="fragment-shader"><a aria-hidden="true" class="anchor-heading" href="#fragment-shader"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Fragment shader</h3>
<pre><code>vec2 uv = normalize(normal_eye).xy * 0.5 + 0.5;
outColor = texture(tex, uv);
</code></pre>